<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Alexander Jordan, Fabian Krüger, Sebastian Lerch" />

<meta name="date" content="2019-08-20" />

<title>R package scoringRules: Getting started</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' || rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#header {
text-align: center;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; }  code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">R package scoringRules: Getting started</h1>
<h4 class="author">Alexander Jordan, Fabian Krüger, Sebastian Lerch</h4>
<h4 class="date">2019-08-20</h4>



<p>This vignette provides a two-page introduction to the <em>scoringRules</em> package. For a more detailed introduction, see the paper ‘Evaluating probabilistic forecasts with scoringRules’ (Jordan, Krüger, and Lerch, <em>Journal of Statistical Software</em>, forthcoming) which is available as a further vignette to <em>scoringRules</em>.</p>
<div id="background" class="section level1">
<h1>Background</h1>
<p>Forecasting a continuous random variable, such as temperature (in degrees Celsius) or the inflation rate (in percent) is important in many situations. Since forecasts are usually surrounded by uncertainty, it makes sense to state forecast distributions, rather than point forecasts. The <em>scoringRules</em> package offers mathematical tools to evaluate a forecast distribution, <span class="math inline">\(F\)</span>, after an outcome <span class="math inline">\(y\)</span> has realized. To this end, we use scoring rules which assign a penalty score <span class="math inline">\(S(y, F)\)</span> to the realization/forecast pair; a smaller score corresponds to a better forecast. See Gneiting and Katzfuss (‘Probabilistic Forecasting’, <em>Annual Review of Statistics and Its Application</em>, 2014) for an introduction to the relevant statistical literature.</p>
<p><em>scoringRules</em> supports two types of forecast distributions, <span class="math inline">\(F\)</span>: Distributions given by a parametric family (such as Normal or Gamma), and distributions given by a simulated sample. Furthermore, the package covers the two most popular scoring rules <span class="math inline">\(S\)</span>: The logarithmic score (LogS), given by <span class="math display">\[\text{LogS}(y, F) = -\log f(y),\]</span> where <span class="math inline">\(f\)</span> is the density conforming to <span class="math inline">\(F\)</span>, and the continuous ranked probability score (CRPS), given by <span class="math display">\[
\text{CRPS}(y, F) = \int_{-\infty}^\infty (F(z) - \mathbf{1}(y \le z))^2 dz,
\]</span> where <span class="math inline">\(\mathbf{1}(A)\)</span> is the indicator function of the event <span class="math inline">\(A\)</span>. The LogS is typically easy to compute, and we include it mainly for reference purposes. By contrast, the CRPS can be very tricky to compute analytically, and cumbersome to approximate numerically. The <em>scoringRules</em> package implements several new methods to tackle this challenge. Specifically, we include many previously unknown analytical expressions, and incorporate recent findings on how to best compute the CRPS of a simulated forecast distribution.</p>
</div>
<div id="example-1-parametric-forecast-distribution" class="section level1">
<h1>Example 1: Parametric forecast distribution</h1>
<p>Suppose the forecast distribution is <span class="math inline">\(\mathcal{N}(2, 4)\)</span>, and an outcome of zero realizes:</p>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>The following piece of code computes the CRPS for this situation:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">library</span>(scoringRules)</a>
<a class="sourceLine" id="cb1-2" title="2"><span class="co"># CRPS of a normal distribution with mean = standard deviation = 2, outcome is zero</span></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="kw">crps</span>(<span class="dt">y =</span> <span class="dv">0</span>, <span class="dt">family =</span> <span class="st">&quot;normal&quot;</span>, <span class="dt">mean =</span> <span class="dv">2</span>, <span class="dt">sd =</span> <span class="dv">2</span>)</a></code></pre></div>
<pre><code>## [1] 1.204883</code></pre>
<p>As documented under <code>?crps</code>, the parametric family used in the example is one of the following choices currently implemented in <em>scoringRules</em>:</p>
<ul>
<li>Normal, Mixture of normals, Two-piece normal, Log-normal, Generalized truncated/censored normal, (Scaled) Student t, Generalized truncated/censored Student t, Laplace, Log-Laplace, Logistic, Log-logistic, Generalized truncated/censored logistic, Exponential, Exponential with point mass, Two-piece exponential, Beta, Gamma, Uniform, Generalized extreme value, Generalized Pareto, Binomial, Hypergeometric, Negative binomial, Poisson</li>
</ul>
<p>We provide analytical CRPS formulas in Appendix A of the vignette ‘Evaluating Probabilistic Forecasts with scoringRules’. Whenever possible, our syntax and parametrization closely follow base R. For distributions not supported by base R, we have created documentation pages with details; see for example <code>?f2pnorm</code>.</p>
</div>
<div id="example-2-simulated-forecast-distribution" class="section level1">
<h1>Example 2: Simulated forecast distribution</h1>
<p>Via <code>data(gdp_mcmc)</code>, the user can load a sample data set with forecasts and realizations for the growth rate of US gross domestic product, a widely regarded economic indicator. The following plot shows the histogram of a simulated forecast distribution for the fourth quarter of 2012:</p>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>Let’s now compute the CRPS for this simulated forecast distribution:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="co"># Load data</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="kw">data</span>(gdp_mcmc)</a>
<a class="sourceLine" id="cb3-3" title="3"><span class="co"># Get forecast distribution for 2012:Q4</span></a>
<a class="sourceLine" id="cb3-4" title="4">dat &lt;-<span class="st"> </span>gdp_mcmc<span class="op">$</span>forecasts[, <span class="st">&quot;X2012Q4&quot;</span>]</a>
<a class="sourceLine" id="cb3-5" title="5"><span class="co"># Get realization for 2012:Q4</span></a>
<a class="sourceLine" id="cb3-6" title="6">y &lt;-<span class="st"> </span>gdp_mcmc<span class="op">$</span>actuals[, <span class="st">&quot;X2012Q4&quot;</span>]</a>
<a class="sourceLine" id="cb3-7" title="7"><span class="co"># Compute CRPS of simulated sample</span></a>
<a class="sourceLine" id="cb3-8" title="8"><span class="kw">crps_sample</span>(<span class="dt">y =</span> y, <span class="dt">dat =</span> dat)</a></code></pre></div>
<pre><code>## [1] 0.9058803</code></pre>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
